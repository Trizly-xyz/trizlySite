<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>trizl</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
/* ---------- RESET ---------- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  color: #eaeaea;
  overflow-x: hidden;
}

/* ---------- VIDEO BACKGROUND ---------- */
.bg-video {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -2;
}

.bg-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  z-index: -1;
}

/* ---------- HEADER PANELS ---------- */
.view-counter,
.audio-panel {
  position: fixed;
  top: 20px;
  background: rgba(255,59,59,0.15);
  border: 1px solid rgba(255,59,59,0.4);
  border-radius: 10px;
  z-index: 100;
  backdrop-filter: blur(8px);
}

.view-counter {
  left: 20px;
  padding: 10px 16px;
  font-size: 13px;
  font-weight: 600;
  color: #ff3b3b;
}

.audio-panel {
  right: 20px;
  padding: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  min-width: 80px;
}

.audio-wheel {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: conic-gradient(#ff3b3b 0deg, #ff3b3b var(--progress), rgba(255,59,59,0.2) var(--progress), rgba(255,59,59,0.2) 360deg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  border: 2px solid rgba(255,59,59,0.3);
  transition: all 0.1s ease;
}

.audio-wheel.playing {
  border-color: rgba(255,59,59,0.8);
  box-shadow: 0 0 20px rgba(255,59,59,0.3);
}

.audio-controls {
  display: flex;
  gap: 8px;
}

.audio-btn {
  background: rgba(255,59,59,0.2);
  border: 1px solid rgba(255,59,59,0.4);
  color: #ff3b3b;
  border-radius: 6px;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s ease;
  font-weight: 600;
}

.audio-btn:hover {
  background: rgba(255,59,59,0.35);
  box-shadow: 0 4px 12px rgba(255,59,59,0.2);
}

.volume-slider {
  width: 60px;
  height: 4px;
  cursor: pointer;
  accent-color: #ff3b3b;
}

/* ---------- LAYOUT ---------- */
.container {
  max-width: 580px;
  margin: 60px auto;
  padding: 0 20px;
}

.card {
  background: rgba(15,15,15,0.92);
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 40px 120px rgba(0,0,0,0.85);
  padding: 38px 30px;
}

/* ---------- AVATAR ---------- */
.avatar-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.avatar {
  width: 128px;
  height: 128px;
  border-radius: 50%;
  overflow: hidden;
  box-shadow: 0 0 45px rgba(255,59,59,0.55);
}

.avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.name {
  margin-top: 18px;
  font-size: 36px;
  font-weight: 700;
  letter-spacing: -0.6px;
}

.location {
  margin-top: 6px;
  font-size: 13px;
  color: rgba(255,255,255,0.55);
}

/* ---------- SOCIALS ---------- */
.socials {
  display: flex;
  gap: 12px;
  margin-top: 18px;
}

.socials a {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: #151515;
  border: 1px solid rgba(255,255,255,0.08);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: 0.25s ease;
}

.socials a:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(255,59,59,0.35);
}

/* ---------- BIO ---------- */
.bio {
  margin-top: 28px;
  font-size: 14px;
  line-height: 1.9;
  text-align: center;
  color: rgba(255,255,255,0.8);
}

.bio strong {
  color: #ff3b3b;
}

/* ---------- DIVIDER ---------- */
.divider {
  height: 1px;
  background: rgba(255,255,255,0.08);
  margin: 36px 0;
}

/* ---------- SECTIONS ---------- */
.section {
  background: #141414;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  margin-bottom: 14px;
  cursor: pointer;
}

.section-header {
  padding: 18px 20px;
  font-size: 15px;
  font-weight: 600;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.section-header span {
  font-size: 12px;
  color: #ff3b3b;
}

/* ---------- BADGES ---------- */
.badge-grid {
  padding: 22px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

.badge-grid img {
  height: 28px;
}

/* ---------- PAGE INFO ---------- */
.page-info {
  padding: 20px;
  font-size: 14px;
  line-height: 1.8;
  color: rgba(255,255,255,0.75);
}

.page-info a {
  color: #ff3b3b;
  text-decoration: none;
  font-weight: 600;
}

/* ---------- MODAL ---------- */
#pastWorkOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.8);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.35s ease;
  z-index: 999;
}

#pastWorkOverlay.active {
  opacity: 1;
  pointer-events: auto;
}

.pastwork-modal {
  width: min(94vw, 1100px);
  height: min(90vh, 820px);
  background: #0f0f0f;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 60px 160px rgba(0,0,0,0.9);
  position: relative;
  animation: modalIn 0.45s cubic-bezier(.2,.8,.2,1);
  overflow: hidden;
}

@keyframes modalIn {
  from {
    transform: scale(0.94) translateY(24px);
    opacity: 0;
  }
  to {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

.pastwork-modal iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.close-btn {
  position: absolute;
  top: 14px;
  right: 18px;
  background: none;
  border: none;
  color: white;
  font-size: 30px;
  cursor: pointer;
  opacity: 0.7;
  z-index: 10;
}

.close-btn:hover {
  opacity: 1;
}
</style>
</head>

<body>

<!-- BACKGROUND VIDEO -->
<video class="bg-video" autoplay muted loop playsinline>
  <source src="background.mp4" type="video/mp4">
</video>
<div class="bg-overlay"></div>

<!-- AUDIO -->
<audio id="bgAudio" loop>
  <source src="audio.mp3" type="audio/mpeg">
</audio>

<!-- VIEW COUNTER -->
<div class="view-counter">
  Views: <span id="viewCount">0</span>
</div>

<!-- AUDIO CONTROL PANEL -->
<div class="audio-panel">
  <div class="audio-wheel" id="audioWheel" style="--progress: 0%">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M240-120q-66 0-113-47T80-280q0-66 47-113t113-47q23 0 42.5 5.5T320-418v-342l480-80v480q0 66-47 113t-113 47q-66 0-113-47t-47-113q0-66 47-113t113-47q23 0 42.5 5.5T720-498v-165l-320 63v320q0 66-47 113t-113 47Z"/></svg>
  </div>
  <div class="audio-controls">
    <button class="audio-btn" id="pausePlayBtn" title="Pause/Play">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"/></svg>
    </button>
    <button class="audio-btn" id="loopBtn" title="Loop: On">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M204-318q-22-38-33-78t-11-82q0-134 93-228t227-94h7l-64-64 56-56 160 160-160 160-56-56 64-64h-7q-100 0-170 70.5T240-478q0 26 6 51t18 49l-60 60ZM481-40 321-200l160-160 56 56-64 64h7q100 0 170-70.5T720-482q0-26-6-51t-18-49l60-60q22 38 33 78t11 82q0 134-93 228t-227 94h-7l64 64-56 56Z"/></svg>
    </button>
  </div>
  <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="25" title="Volume">
</div>

<div class="container">
  <div class="card">

    <div class="avatar-wrap">
      <div class="avatar">
        <img src="avatar.gif" alt="trizl">
      </div>
      <div class="name">trizl</div>
      <div class="location">Idaho, United States</div>

      <div class="socials">
        <a href="https://discord.com/users/711973114917027940" title="Discord">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 640 512">
            <path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/>
          </svg>
        </a>

        <a href="mailto:trizl@trizly.xyz" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
            <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5z"/>
          </svg>
        </a>

        <a href="https://trizly.xyz" title="Website">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <path d="M2 12h20"/>
            <path d="M12 2a15 15 0 0 1 0 20"/>
          </svg>
        </a>

        <a href="https://github.com/trizlfs" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v 3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
        </a>
      </div>
    </div>

    <div class="bio">
      I was born and raised in <strong>The Gem State of Idaho</strong>.  
      I'm an avid snowboarder, golfer, and outdoors enthusiast.  
      I started developing in 2023 to solve the problem of bots that didn’t meet my needs or standards.
      What began with Node.js and Discord.js quickly expanded.
      Less than two years later, I now build custom APIs, a volcanic mapping site, and more.
      I use these skills across both personal and academic projects.
    </div>

    <div class="divider"></div>

    <!-- LANGUAGES -->
    <div class="section">
      <div class="section-header">
        Languages & Libraries
      </div>
      <div class="badge-grid">
        <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
        <img src="https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white">
        <img src="https://img.shields.io/badge/Discord.js-5865F2?style=for-the-badge&logo=discorddotjs&logoColor=white">
        <img src="https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white">
        <img src="https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB">
        <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
      </div>
    </div>

    <!-- PAST WORK -->
    <div class="section" onclick="openPastWork()">
      <div class="section-header">
        Past Work
      </div>
    </div>

    <!-- WERE HIRING -->
    <div class="section">
      <div class="section-header">
        We're Hiring!
      </div>
      <div class="page-info">
        By becoming a staff member at Trizly, we offer you the opportunity to work on exciting projects, enhance your skills, and get a custom portfolio like this one.  
        If you're passionate about development and eager to contribute, we'd love to hear from you!
        <br><br>
        Email me at <a href="mailto:trizl@trizly.xyz">trizl@trizly.xyz</a> or join our <a href="https://discord.gg/trizly">Discord server</a> to apply.
      </div>
    </div>

  </div>
</div>

<!-- MODAL -->
<div id="pastWorkOverlay">
  <div class="pastwork-modal">
    <button class="close-btn" onclick="closePastWork()">×</button>
    <iframe src="past-work.html"></iframe>
  </div>
</div>

<script>
// BOT DETECTION & VIEW COUNTER
const VIEW_API = 'https://api.trizly.xyz/portfolio/views/trizl';

function isBot() {
  const botPatterns = /bot|crawler|spider|scraper|curl|wget|fetch|headless|phantom|java(?!script)|python|go-http|node|axios/i;
  return botPatterns.test(navigator.userAgent);
}

function getVisitorId() {
  let id = sessionStorage.getItem('visitor_id');
  if (!id) {
    id = crypto.randomUUID();
    sessionStorage.setItem('visitor_id', id);
  }
  return id;
}

function initViewCounter() {
  if (isBot()) return;

  const visitorId = getVisitorId();

  fetch(VIEW_API, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ visitorId })
  })
    .then(res => res.json())
    .then(data => {
      document.getElementById('viewCount').textContent = data.views ?? 0;
    })
    .catch(() => {
      console.warn('View counter unavailable');
    });
}

// AUDIO CONTROLS
function initAudio() {
  const audio = document.getElementById('bgAudio');
  const pausePlayBtn = document.getElementById('pausePlayBtn');
  const loopBtn = document.getElementById('loopBtn');
  const volumeSlider = document.getElementById('volumeSlider');
  const audioWheel = document.getElementById('audioWheel');
  
  const PLAY_SVG = '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"/></svg>';
  const PAUSE_SVG = '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"/></svg>';
  const DEFAULT_VOLUME = 0.25;
  
  audio.volume = DEFAULT_VOLUME;
  
  const updateWheelProgress = () => {
    if (audio.duration) {
      const progress = (audio.currentTime / audio.duration) * 100;
      audioWheel.style.setProperty('--progress', progress + '%');
    }
  };
  
  const setPlayingState = (isPlaying) => {
    pausePlayBtn.innerHTML = isPlaying ? PAUSE_SVG : PLAY_SVG;
    audioWheel.classList.toggle('playing', isPlaying);
  };
  
  const playAudio = () => {
    audio.play()
      .then(() => setPlayingState(true))
      .catch(err => console.log('Error playing audio:', err));
  };
  
  // Pause/Play button
  pausePlayBtn.addEventListener('click', () => {
    if (audio.paused) playAudio();
    else {
      audio.pause();
      setPlayingState(false);
    }
  });
  
  // Loop button
  loopBtn.addEventListener('click', () => {
    audio.loop = !audio.loop;
    loopBtn.style.opacity = audio.loop ? '1' : '0.5';
  });
  
  // Volume slider
  volumeSlider.addEventListener('input', (e) => {
    audio.volume = e.target.value / 100;
  });
  
  // Progress wheel updates
  audio.addEventListener('timeupdate', updateWheelProgress);
  audio.addEventListener('loadedmetadata', updateWheelProgress);
  audio.addEventListener('ended', () => audioWheel.style.setProperty('--progress', '0%'));
  
  // Autoplay handling
  const playPromise = audio.play();
  if (playPromise !== undefined) {
    playPromise
      .then(() => setPlayingState(true))
      .catch(() => {
        console.log('Autoplay blocked - waiting for user interaction');
        ['click', 'keydown', 'touchstart'].forEach(event => {
          document.addEventListener(event, playAudio, { once: true });
        });
      });
  }
}

// MODAL FUNCTIONS
function openPastWork() {
  document.getElementById('pastWorkOverlay').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closePastWork() {
  document.getElementById('pastWorkOverlay').classList.remove('active');
  document.body.style.overflow = '';
}

document.getElementById('pastWorkOverlay').addEventListener('click', e => {
  if (e.target.id === 'pastWorkOverlay') closePastWork();
});

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closePastWork();
});

// Initialize on page load
window.addEventListener('load', () => {
  initViewCounter();
  initAudio();
});
</script>

</body>
</html>
